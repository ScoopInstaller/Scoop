{
    "##": "Maintainers: if the version of openssh in the git package changes, please update the version property below",
    "homepage": "https://www.openssh.com/",
    "version": "7.7p1",
    "license": "ISC",
    "depends": [
        "git"
    ],
    "##": "See https://github.com/excitoon/scoop-user/blob/master/openssh.json#L43",
    "bin": [
        [ "../../git/current/usr/bin/sh.exe", "findssl.sh", "$dir/../../git/current/usr/bin/findssl.sh" ],
        "../../git/current/usr/bin/scp.exe",
        "../../git/current/usr/bin/sftp.exe",
        "../../git/current/usr/bin/ssh.exe",
        "../../git/current/usr/bin/ssh-add.exe",
        "../../git/current/usr/bin/ssh-agent.exe",
        [ "../../git/current/usr/bin/sh.exe", "ssh-copy-id", "$dir/../../git/current/usr/bin/ssh-copy-id" ],
        "../../git/current/usr/bin/ssh-keygen.exe",
        "../../git/current/usr/bin/ssh-keyscan.exe",
        "../../git/current/usr/bin/sshd.exe"
    ],
    "##": "See https://github.com/excitoon/scoop-user/blob/master/openssh.json#L55",
    "pre_install": [
        "If (!(Test-Path \"$(appdir git)/current/tmp/\")) {",
        "   Write-Host -f darkgray \"Creating directory '$(appdir git)/current/tmp'\"",
        "   New-Item -ItemType Directory \"$(appdir git)/current/tmp\" -ErrorAction SilentlyContinue | Out-Null",
        "} else {",
        "   Write-Host -f darkgray \"The directory '$(appdir git)/current/tmp'\" already exists",
        "}",
        "If (!(Test-Path \"$(appdir git)/current/home/\")) {",
        "   Write-Host -f darkgray \"Creating directory '$(appdir git)/current/home'\"",
        "   New-Item -ItemType Directory \"$(appdir git)/current/home\" -ErrorAction SilentlyContinue | Out-Null",
        "} else {",
        "   Write-Host -f darkgray \"The directory '$(appdir git)/current/home'\" already exists",
        "}",
        "If (!(Test-Path \"$(appdir git)/current/home/$Env:USERNAME/\")) {",
        "   Write-Host -f darkgray \"Creating a directory junction of '$(appdir git)/current/home/$Env:USERNAME' to '$Env:USERPROFILE'\"",
        "   cmd /c mklink /j \"$(appdir git)\\current\\home\\%USERNAME%\" \"%USERPROFILE%\" | Out-Null",
        "} else {",
        "   Write-Host -f darkgray \"The directory '$(appdir git)/current/home/$Env:USERNAME'\" already exists",
        "}"
    ],
    "##": "See https://github.com/lukesampson/scoop/blob/master/bucket/git.json#L34",
    "post_install": [
        "If ($global) {$target='Machine'} Else {$target='User'}",
        "$ssh_path=\"$(scoop which ssh)\"",
        "$ssh_path=\"$(resolve-path $ssh_path)\"",
        "If (Test-Path $ssh_path) {",
        "   Write-Host -f darkgray \"Setting %GIT_SSH% to $ssh_path for the $target\"",
        "   [Environment]::SetEnvironmentVariable('GIT_SSH', $ssh_path, $target)",
        "   Write-Host -f darkyellow \"Please restart your command shell for these changes to take effect\"",
        "} else {",
        "   Write-Host -f darkgray \"%GIT_SSH% has not been set as ssh.exe was not found in the path",
        "}"
    ],
    "uninstaller": {
        "script": [
            "If ($global) {$target='Machine'} Else {$target='User'}",
            "If ([Environment]::GetEnvironmentVariable('GIT_SSH', $target)) {",
            "   Write-Host -f darkgray \"Removing %GIT_SSH% for the $target\"",
            "   [Environment]::SetEnvironmentVariable('GIT_SSH', $null, $target)",
            "   Write-Host -f darkyellow \"Please restart your command shell for this change to take effect\"",
            "}"
        ]
    },
    "autoupdate": {
        "url": "https://gist.githubusercontent.com/rasa/ba5474f295cc92f80bfa6a655374a533/raw/3aaf08f5b592fbb87f5617b3d570bd8f1308e3a9/dummy.cmd"
    },
    "##": "Dummy url is required",
    "url": "https://gist.githubusercontent.com/rasa/ba5474f295cc92f80bfa6a655374a533/raw/3aaf08f5b592fbb87f5617b3d570bd8f1308e3a9/dummy.cmd",
    "hash": "06531c1c55351094bcd1df60724c96c9ed44dbbe39663a244899fcbccb1956e8"
}
